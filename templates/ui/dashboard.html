{% extends 'base.html' %}
{% load static %}

{% block title %}Dashboard - PanDia{% endblock %}
{% block page_title %}Dashboard{% endblock %}

{% block content %}
<!-- Stats Grid -->
<div class="stats-grid">
    <div class="stat-card">
        <div class="stat-title">Organizações</div>
        <div style="display: flex; align-items: center; justify-content: space-between; gap: 1rem;">
            <div class="stat-value">{{ organizations.count }}</div>
            <div class="stat-icon stat-icon-blue">
                <svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                    <circle cx="9" cy="7" r="4"></circle>
                    <path stroke-linecap="round" stroke-linejoin="round" d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
                    <path stroke-linecap="round" stroke-linejoin="round" d="M16 3.13a4 4 0 0 1 0 7.75"></path>
                </svg>
            </div>
        </div>
    </div>
    
    <div class="stat-card">
        <div class="stat-title">Agentes IA</div>
        <div style="display: flex; align-items: center; justify-content: space-between; gap: 1rem;">
            <div class="stat-value">{{ agents.count }}</div>
            <div class="stat-icon stat-icon-purple">
                <svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M13 10V3L4 14h7v7l9-11h-7z"></path>
                </svg>
            </div>
        </div>
    </div>
    
    <div class="stat-card">
        <div class="stat-title">Chaves API</div>
        <div style="display: flex; align-items: center; justify-content: space-between; gap: 1rem;">
            <div class="stat-value">0</div>
            <div class="stat-icon stat-icon-green">
                <svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"></path>
                </svg>
            </div>
        </div>
    </div>
</div>

<!-- Recent Organizations -->
<div class="content-header">
    <h2 class="content-title" style="font-size: 1.5rem; margin-bottom: 0;">Organizações Recentes</h2>
    <a href="{% url 'organizations:create' %}" class="btn btn-primary">
        + Criar Organização
    </a>
</div>

{% if organizations %}
    {% for org in organizations %}
    <div class="list-item">
        <div class="list-item-content">
            <h3 class="list-item-title">{{ org.name }}</h3>
            <div class="list-item-meta">
                <span>Criado em {{ org.created_at|date:"d/m/Y" }}</span>
            </div>
        </div>
        <div class="list-item-actions">
            <a href="{% url 'organizations:detail' org.slug %}" style="color: var(--gray-400); text-decoration: none; font-size: 1.25rem; transition: color 0.2s;" title="View">
                →
            </a>
        </div>
    </div>
    {% endfor %}
{% else %}
    <div class="empty-state">
        <svg class="empty-state-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
            <circle cx="9" cy="7" r="4"></circle>
            <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
            <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
        </svg>
        <h3 class="empty-state-title">Nenhuma organização ainda</h3>
        <p class="empty-state-text">Crie sua primeira organização para começar</p>
        <a href="{% url 'organizations:create' %}" class="btn btn-primary">
            + Criar Organização
        </a>
    </div>
{% endif %}

<!-- Quick Actions -->
<div style="margin-top: 3rem;">
    <div class="content-header" style="margin-bottom: 1.5rem;">
        <h2 class="content-title" style="font-size: 1.5rem; margin-bottom: 0;">Ações Rápidas</h2>
    </div>
    
    <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 1.5rem;">
        <a href="{% url 'agents:list' %}" class="card" style="text-decoration: none; cursor: pointer; transition: all 0.2s;">
            <div style="display: flex; align-items: center; gap: 1rem;">
                <div class="stat-icon stat-icon-purple">
                    <svg width="24" height="24" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path d="M13 10V3L4 14h7v7l9-11h-7z"></path>
                    </svg>
                </div>
                <div>
                    <h3 class="card-title" style="margin-bottom: 0.25rem;">Gerenciar Agentes</h3>
                    <p class="card-subtitle" style="margin-bottom: 0;">Visualize e configure seus agentes de IA</p>
                </div>
            </div>
        </a>
        
        <a href="{% url 'organizations:list' %}" class="card" style="text-decoration: none; cursor: pointer; transition: all 0.2s;">
            <div style="display: flex; align-items: center; gap: 1rem;">
                <div class="stat-icon stat-icon-blue">
                    <svg width="24" height="24" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                        <circle cx="9" cy="7" r="4"></circle>
                    </svg>
                </div>
                <div>
                    <h3 class="card-title" style="margin-bottom: 0.25rem;">Organizações</h3>
                    <p class="card-subtitle" style="margin-bottom: 0;">Gerencie suas organizações e equipes</p>
                </div>
            </div>
        </a>
    </div>
</div>
{% endblock %}
