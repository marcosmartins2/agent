# Generated by Django 5.0.7 on 2025-11-01 17:26

import django.db.models.deletion
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        ('organizations', '0001_initial'),
    ]

    operations = [
        migrations.CreateModel(
            name='Agent',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=100, verbose_name='Nome do Agente')),
                ('slug', models.SlugField(max_length=120, unique=True, verbose_name='Slug')),
                ('role', models.CharField(default='atendente', help_text='Ex: atendente, recepcionista, consultor', max_length=50, verbose_name='Fun√ß√£o')),
                ('sector', models.CharField(default='manicure/pedicure', help_text='Ex: manicure/pedicure, beleza, est√©tica', max_length=100, verbose_name='Setor')),
                ('language', models.CharField(default='pt-BR', help_text='C√≥digo do idioma (pt-BR, en-US, etc)', max_length=10, verbose_name='Idioma')),
                ('is_active', models.BooleanField(default=True, verbose_name='Ativo')),
                ('greeting', models.TextField(default='Ol√° {{cliente_nome}}! Eu sou {{agente_nome}}, atendente da Unhas Fast üíÖ. Como posso te ajudar hoje?', help_text='Use {{cliente_nome}} e {{agente_nome}} para personaliza√ß√£o', verbose_name='Sauda√ß√£o Inicial')),
                ('tone', models.CharField(default='objetivo, simp√°tico e claro', help_text='Descreva o tom desejado (ex: profissional, amig√°vel, casual)', max_length=200, verbose_name='Tom de Voz')),
                ('style_guidelines', models.TextField(default='Use linguagem simples e amig√°vel. Seja objetivo mas cordial. \nSempre confirme detalhes importantes como data, hor√°rio e servi√ßo. \nSe n√£o souber algo, seja honesto e ofere√ßa alternativas.', help_text='Instru√ß√µes sobre como o agente deve se comunicar', verbose_name='Diretrizes de Estilo')),
                ('business_hours', models.JSONField(blank=True, default=dict, help_text='JSON com hor√°rios por dia da semana', verbose_name='Hor√°rio de Funcionamento')),
                ('knowledge_base', models.TextField(default='## Servi√ßos Oferecidos\n\n- **Manicure b√°sica** (30min) - R$ 25,00\n- **Pedicure b√°sica** (45min) - R$ 35,00\n- **Manicure + Pedicure** (1h15min) - R$ 55,00\n- **Spa de m√£os** (45min) - R$ 40,00\n- **Spa de p√©s** (1h) - R$ 50,00\n- **Alongamento de unhas** (1h30min) - R$ 80,00\n- **Nail art personalizada** (30min adicional) - R$ 20,00\n\n## Pol√≠ticas do Sal√£o\n\n### Agendamento\n- Agendamentos podem ser feitos por telefone, WhatsApp ou pessoalmente\n- Recomendamos agendar com pelo menos 24h de anteced√™ncia\n- Hor√°rios dispon√≠veis: Segunda a Sexta 09:00-18:00, S√°bado 09:00-14:00\n\n### Atrasos e Remarca√ß√µes\n- Toler√¢ncia de atraso: 10 minutos\n- Remarca√ß√£o gratuita: at√© 24h de anteced√™ncia\n- Cancelamento com menos de 24h: taxa de 50% do valor do servi√ßo\n- Falta sem aviso: taxa de 100%\n\n### Formas de Pagamento\n- Dinheiro\n- Cart√£o de d√©bito e cr√©dito\n- PIX\n- N√£o trabalhamos com cheque\n\n## Cuidados P√≥s-Atendimento\n\n### Ap√≥s Esmalta√ß√£o\n- Evite √°gua quente por 2h ap√≥s a aplica√ß√£o\n- N√£o mergulhe as m√£os em √°gua nas primeiras 4h\n- Use luvas ao fazer limpeza pesada ou lavar lou√ßa\n- Evite piscina e mar nas primeiras 24h\n\n### Cuidados Di√°rios\n- Hidrate cut√≠culas diariamente com √≥leo espec√≠fico\n- Use base fortalecedora se as unhas forem fr√°geis\n- Lixe sempre na mesma dire√ß√£o\n- N√£o use as unhas como ferramenta\n\n### Alongamento de Unhas\n- Retoque recomendado a cada 15-20 dias\n- Nunca arranque ou force a remo√ß√£o\n- Mantenha as unhas hidratadas\n- Evite impactos fortes\n\n## Perguntas Frequentes\n\n**Precisa agendar para todos os servi√ßos?**\nSim, trabalhamos apenas com agendamento para garantir melhor atendimento.\n\n**Pode levar esmalte pr√≥prio?**\nSim, mas verificamos a qualidade antes da aplica√ß√£o.\n\n**Fazem atendimento a domic√≠lio?**\nN√£o, apenas no sal√£o.\n\n**Atendem homens?**\nSim, oferecemos servi√ßos de manicure e pedicure masculina.\n\n**Tem estacionamento?**\nTemos conv√™nio com estacionamento ao lado (2h gr√°tis).\n', help_text='Informa√ß√µes sobre servi√ßos, pol√≠ticas, etc (Markdown)', verbose_name='Base de Conhecimento')),
                ('fallback_message', models.TextField(default='Desculpe, n√£o entendi bem sua solicita√ß√£o. Pode reformular? \nOu se preferir, posso transferir para um atendente humano.', help_text='Quando o agente n√£o entende a solicita√ß√£o', verbose_name='Mensagem de Fallback')),
                ('escalation_rule', models.TextField(default='Transferir para atendente humano quando:\n- Cliente solicitar explicitamente\n- Reclama√ß√£o ou problema n√£o resolvido\n- Situa√ß√£o complexa que exija decis√£o humana\n- Cliente demonstrar insatisfa√ß√£o ap√≥s 2 tentativas', help_text='Quando e como transferir para atendente humano', verbose_name='Regra de Escalonamento')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='Criado em')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='Atualizado em')),
                ('padaria', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='agents', to='organizations.padaria', verbose_name='Padaria')),
            ],
            options={
                'verbose_name': 'Agente',
                'verbose_name_plural': 'Agentes',
                'ordering': ['-created_at'],
                'unique_together': {('padaria', 'slug')},
            },
        ),
    ]
